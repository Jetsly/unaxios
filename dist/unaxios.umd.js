/* unaxios version 0.1.4 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).unaxios={})}(this,function(e){"use strict";self.fetch||(self.fetch=function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest;for(var u in o.open(t.method||"get",e,!0),t.headers)o.setRequestHeader(u,t.headers[u]);function s(){var e,t=[],n=[],r={};return o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(o,u,s){t.push(u=u.toLowerCase()),n.push([u,s]),r[u]=(e=r[u])?e+","+s:s}),{ok:2==(o.status/100|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:s,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}o.withCredentials="include"==t.credentials,o.onload=function(){n(s())},o.onerror=r,o.send(t.body||null)})});var t=function(e){return e&&e.indexOf("application/json")>-1},n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},r=function(e){return Array.isArray(e)},o=function(e,t){return n(t)||r(t)?Object.keys(t).reduce(function(u,s){var i=t[""+s],a=n(i)||r(i)||n(t)?s:"";return u.concat(o(""===e?s:e+"["+a+"]",i))},[]):[encodeURIComponent(""+e)+"="+encodeURIComponent(t)]},u=[],s=[],i=function(e){return{use:function(t,n){var r=e.push({fulfilled:t,rejected:n})-1;return{dispose:function(){e[r]={}}}}}},a={baseURL:"",timeOut:1/0,headers:{}},c={request:i(u),response:i(s)},f=function(e){return e!==1/0&&0!==e},d=function(e){var t=e.method,n=e.headers,r={method:t,body:e.data,headers:Object.keys(n).reduce(function(e,t){return e.key=n[t],e},a.headers)};e.withCredentials&&(r.credentials="include");var o=[fetch(""+a.baseURL+e.url,r).then(function(t){return t.config=e,t})],u=f(e.timeOut)?e.timeOut:a.timeOut;return f(u)&&o.push(new Promise(function(e,t){return setTimeout(function(){return t({isTimeOut:!0})},u)})),Promise.race(o)};function l(e){void 0===e&&(e={});var t=[[d]];return u.forEach(function(e){var n=e.fulfilled,r=e.rejected;t.unshift([n,r])}),s.forEach(function(e){var n=e.fulfilled,r=e.rejected;t.push([n,r])}),t.reduce(function(e,t){var n=t[0],r=t[1];return Promise.resolve(e).then(n,r)},(e.method=e.method||"GET",e.headers=e.headers||{},e))}c.request.use(function(e){var r;return n(e.params)&&(e.url=[e.url,(r=e.params,"?"+o("",r).join("&"))].join("")),t(e.contentType)&&e.data&&(e.data=JSON.stringify(e.data)),e.contentType&&(e.headers["content-type"]=e.contentType),e}),c.response.use(function(e){return t(e.headers.get("content-type"))?e.json().then(function(t){return e.data=t||e.data,e}):e}),e.defaults=a,e.interceptors=c,e.default=l,e.get=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),l((n.url=e||n.url,n.params=t||n.params,n))},e.post=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),l((n.method="POST",n.contentType="application/json",n.url=e||n.url,n.data=t||n.data,n))},Object.defineProperty(e,"__esModule",{value:!0})});
